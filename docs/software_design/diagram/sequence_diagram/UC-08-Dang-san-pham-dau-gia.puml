@startuml UC-08-Dang-san-pham-dau-gia

title UC-08: Đăng sản phẩm đấu giá

actor "Seller" as Seller
participant "Frontend\n(CreateProductPage)" as Frontend
participant "Backend" as Backend
participant "DB" as DB

note over Frontend
  UI Components:
  - Input tên sản phẩm
  - Upload ảnh (min 3 ảnh)
  - Select danh mục (2 cấp)
  - Input giá khởi điểm
  - Input bước giá
  - Input giá mua ngay (optional)
  - WYSIWYG Editor (mô tả)
  - Checkbox tự động gia hạn
  - Input thời gian kết thúc
  - Nút "Đăng sản phẩm"
end note

Seller -> Frontend: Nhập thông tin sản phẩm
note right of Seller
  - Tên sản phẩm
  - Danh mục (2 cấp)
  - Giá khởi điểm
  - Bước giá
  - Giá mua ngay (optional)
  - Mô tả (WYSIWYG)
  - Tự động gia hạn (checkbox)
  - Thời gian kết thúc
end note

Seller -> Frontend: Upload ảnh (tối thiểu 3)
Frontend -> Frontend: Validate ảnh\n(format, size, số lượng)

Seller -> Frontend: Click "Đăng sản phẩm"

Frontend -> Frontend: Validate form\n(required fields, giá hợp lệ)

Frontend -> Backend: Đăng sản phẩm\n(productData, images)
activate Backend

Backend -> Backend: Upload ảnh lên storage\n(cloud/local)

Backend -> Backend: Tạo slug từ tên sản phẩm

Backend -> DB: Lưu thông tin sản phẩm
activate DB
note right of DB
  - Tên, slug, mô tả
  - Danh mục
  - Giá khởi điểm, bước giá
  - Giá mua ngay
  - Links ảnh
  - Seller ID
  - Auto-extend flag
  - Thời gian đăng/kết thúc
end note
DB --> Backend: Lưu thành công (productId)
deactivate DB

Backend --> Frontend: Đăng sản phẩm thành công\n(productId)
deactivate Backend

Frontend --> Seller: Hiển thị thông báo thành công\nChuyển đến trang chi tiết sản phẩm

@enduml
