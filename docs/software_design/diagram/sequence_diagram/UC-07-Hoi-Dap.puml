@startuml UC-07-Hoi-Dap

title UC-07: Hỏi đáp về sản phẩm

actor "Bidder" as Bidder
actor "Seller" as Seller
participant "Frontend\n(ProductDetailPage)" as Frontend
participant "Backend" as Backend
participant "DB" as DB

note over Frontend
  UI Components:
  - Form đặt câu hỏi (textarea)
  - Nút "Send Question"
  - Danh sách câu hỏi & trả lời
  - Form trả lời (cho seller)
end note

== Bidder đặt câu hỏi ==

Bidder -> Frontend: Nhập câu hỏi
Bidder -> Frontend: Click "Send Question"

Frontend -> Backend: Gửi câu hỏi\n(productId, question)
activate Backend

Backend -> DB: Lưu câu hỏi
activate DB
DB --> Backend: Lưu thành công
deactivate DB

Backend -> Backend: Gửi email thông báo cho seller\n(kèm link chi tiết sản phẩm)

Backend --> Frontend: Gửi câu hỏi thành công
deactivate Backend

Frontend --> Bidder: Hiển thị thông báo thành công\nCập nhật danh sách câu hỏi

== Seller trả lời câu hỏi ==

Seller -> Frontend: Mở email thông báo\nClick link chi tiết sản phẩm
Frontend --> Seller: Hiển thị chi tiết sản phẩm\nvà form trả lời

Seller -> Frontend: Nhập câu trả lời
Seller -> Frontend: Click "Send Answer"

Frontend -> Backend: Gửi câu trả lời\n(questionId, answer)
activate Backend

Backend -> DB: Lưu câu trả lời
activate DB
DB --> Backend: Lưu thành công
deactivate DB

Backend -> DB: Lấy danh sách người tham gia đấu giá
activate DB
DB --> Backend: Danh sách bidders
deactivate DB

Backend -> Backend: Gửi email thông báo\n- Người đặt câu hỏi\n- Các bidder tham gia đấu giá\n- Các người đã đặt câu hỏi

Backend --> Frontend: Trả lời thành công
deactivate Backend

Frontend --> Seller: Hiển thị thông báo thành công\nCập nhật danh sách Q&A

@enduml
