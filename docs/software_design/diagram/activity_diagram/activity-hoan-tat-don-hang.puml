@startuml ActivityHoanTatDonHang
' --- Cài đặt Sơ đồ ---
skinparam activity {
    BackgroundColor PaleGreen
    BorderColor Green
}
skinparam swimlane {
    BackgroundColor WhiteSmoke
    BorderColor RoyalBlue
}

' --- Bắt đầu Sơ đồ ---
|System|
start
:Phiên đấu giá kết thúc;
:Xác định Seller và Bidder thắng;
:Gửi thông báo "Bắt đầu giao dịch"
cho cả hai bên;

|Seller|
: (Bước 1)
Cung cấp "Hợp đồng giao dịch";

|System|
:Lưu Hợp đồng;
:Thông báo cho Bidder;

|Bidder|
: (Bước 2)
Xác nhận "Đã thanh toán";

|System|
:Ghi nhận thanh toán;
:Thông báo cho Seller;

|Seller|
: (Bước 3)
Xác nhận "Đã gửi hàng";

|System|
:Ghi nhận gửi hàng;
:Thông báo cho Bidder;

|Bidder|
: (Bước 4)
Xác nhận "Đã nhận hàng";

|System|
:Ghi nhận giao dịch "Hoàn tất";
:Kích hoạt tính năng đánh giá
cho giao dịch này;

|Bidder|
:Chuyển sang "Đánh giá người dùng" (UC-11);

|Seller|
:Chuyển sang "Đánh giá người dùng" (UC-11);

stop
@enduml
