@startuml ContextDiagram
' --- Cài đặt Sơ đồ ---
skinparam component {
    BackgroundColor PaleGreen
    BorderColor Green
    ArrowColor Green
}
skinparam actorStyle awesome
skinparam agent {
    BackgroundColor WhiteSmoke
    BorderColor RoyalBlue
}

' --- 1. Định nghĩa Hệ thống Trung tâm ---
component "Hệ thống Sàn Đấu Giá Trực Tuyến" as System

' --- 2. Định nghĩa Actors (Người dùng) ---
actor "Người dùng nặc danh\n(Guest)" as Guest
actor "Người mua\n(Bidder)" as Bidder
actor "Người bán\n(Seller)" as Seller
actor "Quản trị viên\n(Admin)" as Admin

' --- 3. Định nghĩa Các hệ thống bên ngoài (External Systems) ---
' Sử dụng "agent" hoặc "boundary" cho các hệ thống bên ngoài
agent "Hệ thống Email\n(Email System)" as EmailSystem
agent "Dịch vụ Social Login\n(Google, Facebook)" as SocialLogin
agent "Dịch vụ reCaptcha" as ReCaptcha

' --- 4. Định nghĩa Luồng dữ liệu (Data Flows) ---

' === Guest ===
Guest -down-> System : Yêu cầu xem, Yêu cầu tìm kiếm
System -up-> Guest : Dữ liệu sản phẩm, Trang chủ
Guest -right-> System : Dữ liệu đăng ký
System -left-> Guest : Form đăng ký/đăng nhập

' === Bidder ===
Bidder --> System : Dữ liệu ra giá, Câu hỏi, Yêu cầu Watchlist
System --> Bidder : Thông báo (giá mới, thắng), Thông tin tài khoản
Bidder --> System : Yêu cầu nâng cấp
System --> Bidder : Lịch sử đấu giá

' === Seller ===
Seller --> System : Dữ liệu đăng sản phẩm, Câu trả lời
System --> Seller : Thông báo (có bid, có câu hỏi), Lịch sử bán hàng
Seller --> System : Yêu cầu huỷ giao dịch, Đánh giá

' === Admin ===
Admin --> System : Yêu cầu Quản lý (User, Danh mục, Sản phẩm)
System --> Admin : Dữ liệu hệ thống, Danh sách chờ duyệt
Admin --> System : Dữ liệu duyệt (nâng cấp, gỡ bài)

' === Hệ thống bên ngoài ===
' Email
System -right-> EmailSystem : Yêu cầu gửi Email (OTP, Thông báo)

' Social Login
System <-left-> SocialLogin : Dữ liệu xác thực Social
(Guest, Bidder) .> SocialLogin : (Yêu cầu đăng nhập)

' reCaptcha
System <-left-> ReCaptcha : Dữ liệu xác thực reCaptcha
(Guest) .> ReCaptcha : (Xác thực khi đăng ký)

@enduml
